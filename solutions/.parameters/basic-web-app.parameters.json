{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "solutionName": {
      "value": "bicepcarml"
    },
    "environmentName": {
      "value": "dev"
    },
    "appServicePlanSku": {
      "value": {
        "name": "F1",
        "tier": "Free",
        "capacity": 1
      }
    },
    "appServicePlanOS": {
      "value": "Windows"
    },
    "webAppKind": {
      "value": "app"
    },
    "kvAccessPolicy": {
      "value":  [
        {
            "tenantId": "84d4604f-367d-4745-8118-e86427386882",
            "objectId": "5fa8090f-ffb7-4a33-b70a-fecad9066e38",
            "permissions": {
                "keys": [
                    "Get",
                    "List",
                    "Update",
                    "Create",
                    "Import",
                    "Delete",
                    "Recover",
                    "Backup",
                    "Restore",
                    "GetRotationPolicy",
                    "SetRotationPolicy",
                    "Rotate"
                ],
                "secrets": [
                    "Get",
                    "List",
                    "Set",
                    "Delete",
                    "Recover",
                    "Backup",
                    "Restore"
                ]
            }
        },
        {
            "tenantId": "84d4604f-367d-4745-8118-e86427386882",
            "objectId": "237e0110-6e06-40ba-9d06-d38a1342e55a",
            "permissions": {
                "keys": [
                    "Get",
                    "List",
                    "Update",
                    "Create",
                    "Import",
                    "Delete",
                    "Recover",
                    "Backup",
                    "Restore",
                    "GetRotationPolicy",
                    "SetRotationPolicy",
                    "Rotate"
                ],
                "secrets": [
                    "Get",
                    "List",
                    "Set",
                    "Delete",
                    "Recover",
                    "Backup",
                    "Restore"
                ]
            }
        }
    ]
    },
    "sqlServerAdministratorLogin": {
      "reference": {
        "keyVault": {
          "id": "/subscriptions/a8203460-7902-4329-8171-c459c80371d1/resourceGroups/bicepcarml-dev-rg/providers/Microsoft.KeyVault/vaults/bicepcarml-dev-kv"
        },
        "secretName": "sqlServerAdministratorLogin"
      }
    },
    "sqlServerAdministratorPassword": {
      "reference": {
        "keyVault": {
          "id": "/subscriptions/a8203460-7902-4329-8171-c459c80371d1/resourceGroups/bicepcarml-dev-rg/providers/Microsoft.KeyVault/vaults/bicepcarml-dev-kv"
        },
        "secretName": "sqlServerAdministratorPassword"
      }
    }
  }
}